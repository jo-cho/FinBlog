<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Cheonghyo Cho">

<title>인과추론 - Directed Acyclic Graph(DAG) – Cho’s FinBlog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../posts/fin_data/Fractional_difference.html" rel="next">
<link href="../../../posts/statistics/causal_inference/ci_01_intro.html" rel="prev">
<link href="../../../logo.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-9d50f053c6cb2f91b4fff0beffe54eeb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Cho’s FinBlog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/jo-cho/FinBlog/tree/main/docs">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/jo-cho/FinBlog/issues">
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../posts/statistics/causal_inference/ci_01_intro.html">인과추론</a></li><li class="breadcrumb-item"><a href="../../../posts/statistics/causal_inference/ci_02_dag.html">2. DAG</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="quarto-sidebar-header"><div class="sidebar-header-item">
<p>FinBlog</p>
</div></div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">홈</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">모든 글 보기</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">기초통계</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">확률과 통계</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/probability_distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">확률 분포</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/estimation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">추정</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">시계열 분석</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. 시계열 서론</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_02_arima.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. 선형 모형</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_03_multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. 다변량 시계열</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_04_volatility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. 시계열 변동성</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_05_nonlinear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. 비선형 모형</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_06_state_space.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. 상태 공간 모형</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/time_series/ts_07_deep_learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. 머신러닝 딥러닝 모형</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">인과추론</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/causal_inference/ci_01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. 인과추론 서론</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/statistics/causal_inference/ci_02_dag.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2. DAG</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">금융 데이터 처리</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/fin_data/Fractional_difference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">분수 차분</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">이상탐지</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/anomaly_detection/deep_learning_for_anomaly_detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 - 딥러닝을 이용한 이상탐지</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">알고리즘 트레이딩</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/0_Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. 트레이딩 개요</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/1_Get_Market_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. 시장 데이터 수집</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/2_Labeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. 가격 모멘텀 라벨링</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/3_Get_Features.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. 피쳐 생성</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/4_Feature_Selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. 피쳐 선정</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/5_Get_Trading_Signals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. 매매 시그널 분류</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/6_Trading_Rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. 매매 규칙</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/ml_trading/7_Enhancing_and_Bet_Confidence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8. 매매 신뢰도 측정과 전략 강화</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">시스템 리스크 분석</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/1_Systemic_Risk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">시스템 리스크 개념</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false">
 <span class="menu-text">시스템 리스크 측정</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/2_Systemic_Risk_Measures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 요약</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/2-1_Systemic_Risk_Measures_Macro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 (거시경제)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/2-2_Systemic_Risk_Measures_Market.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 (시장위험)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/2-3_Systemic_Risk_Measures_Cross-sectional.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 (금융기관 위험)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/2-4_Systemic_Risk_Measures_Probability_of_Default.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 (부도확률모형 위험)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/2-5_Systemic_Risk_Measures_Network.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구 (네트워크)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">시스템 리스크와 머신러닝</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/3_Systemic_Risk_And_Machine_Learning_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/3_Systemic_Risk_And_Machine_Learning_1_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">선행연구2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/systemic_risk/3_Systemic_Risk_And_Machine_Learning_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">향후 연구 방향</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">그래프 머신러닝</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">그래프 머신러닝 이론</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. 들어가며</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_02_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2-1. 그래프 통계량과 커널</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_02_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2-2. 이웃중복 감지</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_02_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2-3. 라플라시안과 스펙트럼</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_03_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3-1. 인코더-디코더</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_03_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3-2. 랜덤워크 임베딩</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_04_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. 다중관계 데이터</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_05_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5-1. GNN - 신경망 메시지 전달</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_05_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5-2. GNN - 일반화된 집계 및 업데이트</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/machine_learning/GRL_05_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5-3. GNN - 다중관계와 그래프 수준</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false">
 <span class="menu-text">자연어처리</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false">
 <span class="menu-text">자연어처리 이론</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/01_tf-idf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. DTM과 TF-IDF</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/02_1_word_embedding1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2-1. 워드임베딩: Word2Vec</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/02_2_word_embedding2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2-2. 워드임베딩: GloVe, FastText</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/02_3_document_embedding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2-3. 문서임베딩: Doc2vec</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/03_topic_modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. 토픽모델링: LSA, LDA</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/04_attention.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. 어텐션 메커니즘</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/05_transformer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. 트랜스포머</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp/06_bert.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. BERT</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false">
 <span class="menu-text">경제 텍스트분석</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp_econ/finance_llm_survey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">금융분야의 LLM (2023)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp_econ/news_sentiment_index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">뉴스심리지수(NSI) - 한국은행</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp_econ/text-based_economic_field_indicators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">경제부문별 텍스트 지표</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/nlp_econ/industry_monitoring_ai_algorithm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AI 산업 모니터링</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">목차</h2>
   
  <ul>
  <li><a href="#directed-acyclic-graph-dag의-개념과-활용" id="toc-directed-acyclic-graph-dag의-개념과-활용" class="nav-link active" data-scroll-target="#directed-acyclic-graph-dag의-개념과-활용">Directed Acyclic Graph (DAG)의 개념과 활용</a>
  <ul class="collapse">
  <li><a href="#dag의-기본-개념" id="toc-dag의-기본-개념" class="nav-link" data-scroll-target="#dag의-기본-개념">DAG의 기본 개념</a></li>
  <li><a href="#인과-관계와-반사실적counterfactuals" id="toc-인과-관계와-반사실적counterfactuals" class="nav-link" data-scroll-target="#인과-관계와-반사실적counterfactuals">인과 관계와 반사실적(counterfactuals)</a></li>
  <li><a href="#인과-효과의-두-가지-유형" id="toc-인과-효과의-두-가지-유형" class="nav-link" data-scroll-target="#인과-효과의-두-가지-유형">인과 효과의 두 가지 유형</a></li>
  <li><a href="#dag의-특징" id="toc-dag의-특징" class="nav-link" data-scroll-target="#dag의-특징">DAG의 특징</a></li>
  <li><a href="#dag의-활용-이유" id="toc-dag의-활용-이유" class="nav-link" data-scroll-target="#dag의-활용-이유">DAG의 활용 이유</a></li>
  </ul></li>
  <li><a href="#a-simple-dag" id="toc-a-simple-dag" class="nav-link" data-scroll-target="#a-simple-dag">A simple DAG</a></li>
  <li><a href="#충돌자colliding" id="toc-충돌자colliding" class="nav-link" data-scroll-target="#충돌자colliding">충돌자(Colliding)</a>
  <ul class="collapse">
  <li><a href="#backdoor-criterion" id="toc-backdoor-criterion" class="nav-link" data-scroll-target="#backdoor-criterion">Backdoor criterion</a></li>
  <li><a href="#콜라이더-편향" id="toc-콜라이더-편향" class="nav-link" data-scroll-target="#콜라이더-편향">콜라이더 편향</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/jo-cho/FinBlog/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../posts/statistics/causal_inference/ci_01_intro.html">인과추론</a></li><li class="breadcrumb-item"><a href="../../../posts/statistics/causal_inference/ci_02_dag.html">2. DAG</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">인과추론 - Directed Acyclic Graph(DAG)</h1>
<p class="subtitle lead">Causal Inference - Directed Acyclic Graph</p>
  <div class="quarto-categories">
    <div class="quarto-category">causal inference</div>
    <div class="quarto-category">DAG</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Cheonghyo Cho </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="directed-acyclic-graph-dag의-개념과-활용" class="level1">
<h1>Directed Acyclic Graph (DAG)의 개념과 활용</h1>
<section id="dag의-기본-개념" class="level2">
<h2 class="anchored" data-anchor-id="dag의-기본-개념">DAG의 기본 개념</h2>
<ul>
<li>단방향성: DAG(방향성 비순환 그래프)는 인과 관계가 한 방향으로만 흐르며, 순환(cycle)이 없는 구조를 가진다. 이는 시간이 앞으로만 진행된다는 전제를 의미한다.
<ul>
<li>역인과(reverse causality): DAG에서 표현하려면 동일한 노드의 시간 차원을 추가해야 한다.</li>
<li>동시성(simultaneity): 예를 들어, 공급과 수요처럼 동시에 발생하는 관계는 DAG로 표현하기 어렵다(Heckman and Pinto, 2015). 이러한 경우 다른 접근법이 필요하다.</li>
</ul></li>
</ul>
</section>
<section id="인과-관계와-반사실적counterfactuals" class="level2">
<h2 class="anchored" data-anchor-id="인과-관계와-반사실적counterfactuals">인과 관계와 반사실적(counterfactuals)</h2>
<ul>
<li>인과 효과는 실제로 관찰된 세계(어떤 개입이 특정 값을 가졌을 때의 결과)와 그렇지 않은 세계(반사실적 상황) 간의 비교를 통해 정의된다.</li>
<li>DAG는 인과 효과의 사슬(causal chain)을 그래픽으로 표현하며, 이는 아래 요소로 구성된다:
<ul>
<li>노드(Node): 랜덤 변수.</li>
<li>화살표(Arrow): 변수 간 인과 관계를 나타내며, 화살표의 방향은 인과 효과의 방향을 의미.</li>
</ul></li>
</ul>
</section>
<section id="인과-효과의-두-가지-유형" class="level2">
<h2 class="anchored" data-anchor-id="인과-효과의-두-가지-유형">인과 효과의 두 가지 유형</h2>
<ol type="1">
<li>직접 효과 (Direct Effect):</li>
</ol>
<ul>
<li>A → B: A가 직접적으로 B에 영향을 미치는 관계.</li>
</ul>
<ol start="2" type="1">
<li>간접 효과 (Indirect Effect):</li>
</ol>
<ul>
<li>A → C → B: A가 C를 매개로 B에 영향을 미치는 경우.</li>
<li>질문의 맥락에 따라 매개 변수(C)가 중요할 수도 있고 아닐 수도 있다.</li>
</ul>
</section>
<section id="dag의-특징" class="level2">
<h2 class="anchored" data-anchor-id="dag의-특징">DAG의 특징</h2>
<ul>
<li><p><strong>인과 경로</strong>(causal pathway)를 명시적으로 나타냄.</p></li>
<li><p>인과 경로의 부재도 명시적으로 드러냄(화살표가 없는 경우).</p>
<ul>
<li>화살표의 부재는 해당 데이터에 인과 관계가 없다는 강한 신념을 반영.</li>
</ul></li>
<li><p>완전한 DAG는:</p>
<ul>
<li>그래프에 포함된 모든 변수 간의 직접적인 인과 효과를 포함.</li>
<li>모든 변수 쌍의 공통 원인을 포함.</li>
</ul></li>
</ul>
</section>
<section id="dag의-활용-이유" class="level2">
<h2 class="anchored" data-anchor-id="dag의-활용-이유">DAG의 활용 이유</h2>
<ul>
<li>사전 지식의 중요성: DAG는 인과 효과 식별에서 사전 지식의 핵심적인 역할을 이해하는 데 도움을 준다.</li>
<li>연구 설계와 추정치의 시각적 소통:
<ul>
<li>그림은 텍스트보다 직관적이며 특히 도구 변수(instrumental variables) 같은 개념에 유용하다.</li>
</ul></li>
<li>연구 설계 개선:
<ul>
<li>백도어 기준(backdoor criterion) 및 콜라이더 편향(collider bias) 같은 개념을 통해 개입의 인과 효과를 식별할 수 있는 신뢰할 만한 연구 설계를 개발.</li>
</ul></li>
<li>학파 간 다리 역할:
<ul>
<li>구조적 접근법(structural approach)과 축약형 접근법(reduced-form approach) 간의 연결 고리를 제공.</li>
</ul></li>
<li>가정의 중요성 강조:
<ul>
<li>모든 인과 효과 식별에는 가정이 필요하며, 이는 경제학자들이 오래전부터 주장해 온 핵심 사항이다(Wolpin, 2013).</li>
</ul></li>
</ul>
</section>
</section>
<section id="a-simple-dag" class="level1">
<h1>A simple DAG</h1>
<p><img src="img/ci_02_1.png" width="300"></p>
<p>이 DAG에는 세 가지 랜덤 변수 <span class="math inline">\(X,D,Y\)</span>가 있다.</p>
<ul>
<li><p><strong>직접 경로</strong>: <span class="math inline">\(D \rightarrow Y\)</span>는 인과 효과를 나타내는 경로다. 이는 <span class="math inline">\(D\)</span>가 <span class="math inline">\(Y\)</span>에 직접적으로 영향을 미친다는 것을 뜻한다.</p></li>
<li><p><strong>백도어 경로</strong>(Backdoor Path): <span class="math inline">\(D ← X → Y\)</span>는 <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span> 간의 또 다른 경로다. 그러나 이 경로는 인과적이지 않다. 이는 <span class="math inline">\(X\)</span>라는 변수의 변동이 <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span> 간의 <strong>가짜 상관관계</strong>(<strong>spurious correlation</strong>)를 만들어내는 과정이다.</p></li>
</ul>
<p>백도어 경로(backdoor path) 개념은 DAG에서 배우는 가장 중요한 요소 중 하나이다. - 이는 <strong>누락 변수 편향</strong>(<strong>omitted variable bias</strong>)의 개념과 유사하다. - <span class="math inline">\(X\)</span>는 혼란 변수(confounder)로서 <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span>를 동시에 결정하므로, <span class="math inline">\(D\)</span>의 <span class="math inline">\(Y\)</span>에 대한 효과를 직접적으로 비교할 때 이를 왜곡(confound)한다.</p>
<p>예를 들어: - 경우 1: <span class="math inline">\(D\)</span>가 다른 값을 가질 때, 이는 <span class="math inline">\(D\)</span>가 <span class="math inline">\(Y\)</span>를 유발하여 <span class="math inline">\(Y\)</span>가 변한다. - 경우 2: <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span>가 모두 변하는 이유는 <span class="math inline">\(X\)</span> 때문이다. 이 경우, <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span> 간의 상관관계 중 일부는 가짜다.</p>
<p><img src="img/ci_02_2.png" width="300"></p>
<p>이번에는 관측되지 않는 혼란 변수 <span class="math inline">\(U\)</span>가 존재한다. 관측되지 않은 변수의 경우, 관련된 화살표는 <strong>점선</strong>(dashed line)으로 나타낸다.</p>
<p><span class="math inline">\(U\)</span>는 백도어 경로를 따라 있는 <strong>비충돌자</strong>(noncollider)다. 그러나 <span class="math inline">\(U\)</span>는 관측되지 않으므로 데이터 세트에 포함되지 않는다. 이로 인해 백도어 경로가 열려(backdoor pathway is <em>open</em>) 있으며, <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span> 간의 상관관계에 편향을 초래한다.</p>
</section>
<section id="충돌자colliding" class="level1">
<h1>충돌자(Colliding)</h1>
<p><img src="img/ci_02_3.png" width="300"></p>
<p>이 DAG에서 <span class="math inline">\(D\)</span>에서 <span class="math inline">\(Y\)</span>로 가는 두 가지 경로가 있다: 1. 직접 경로: <span class="math inline">\(D→Y\)</span>. 이는 인과적 경로(causal path)이다. 2. 백도어 경로: <span class="math inline">\(D→X←Y\)</span></p>
<p>여기서 백도어 경로의 중요한 차이점은 <span class="math inline">\(X\)</span>가 <strong>콜라이더</strong>(collidor)라는 점이다.</p>
<ul>
<li><span class="math inline">\(X\)</span>는 <span class="math inline">\(D\)</span>와 <span class="math inline">\(Y\)</span>로부터 화살표를 받는 변수다.</li>
<li>경로상에서 두 변수가 제3의 변수에 영향을 미칠 때, 이를 콜라이더라고 한다.</li>
</ul>
<p>콜라이더의 특징:</p>
<ul>
<li>콜라이더가 백도어 경로에 등장하면, 백도어 경로는 콜라이더의 존재로 인해 닫히게(closed) 된다.</li>
<li>즉, 별다른 조치를 취하지 않아도, 콜라이더는 자동으로 특정 백도어 경로를 차단한다.</li>
</ul>
<section id="backdoor-criterion" class="level2">
<h2 class="anchored" data-anchor-id="backdoor-criterion">Backdoor criterion</h2>
<p><strong>백도어 경로</strong>(<strong>open backdoor path</strong>)는 인과 추론에서 중요한 문제로, 관심 있는 인과 변수와 결과 변수 사이에 체계적이면서도 비인과적인 상관관계를 만들어낸다.</p>
<ul>
<li>문제점: 회귀 분석의 관점에서, 열린 백도어 경로는 누락 변수 편향(omitted variable bias을 초래한다. 이는 분석의 방향을 왜곡하거나 부호를 완전히 반전시킬 정도로 심각한 영향을 줄 수 있다.</li>
<li>목표: 열린 백도어 경로를 닫아(closing the backdoor path) D가 Y에 미치는 인과적 효과(causal effect)를 분리하는 것이다.</li>
</ul>
<p>백도어 경로를 닫는 두 가지 방법: - 혼란 변수(confounder)를 조건화(conditioning)하기: - 혼란 변수를 통제하는 방법으로, 회귀 분석, 매칭(matching), 하위분류(subclassification) 등을 통해 변수를 고정시키는 것이다. - 이는 회귀 분석에서 변수에 대해 “통제(controlling)”하는 것과 동일하다. - 콜라이더(colliders) 활용: - 백도어 경로에 콜라이더가 존재하면, 백도어 경로는 자동으로 닫힌다. - 그러나 콜라이더를 조건화하면 백도어 경로가 다시 열리므로, 콜라이더를 무시하는 것이 더 적합할 수 있다.</p>
<p>백도어 기준(Backdoor Criterion): - 백도어 경로가 모두 닫히면, 해당 연구 설계는 <strong>백도어 기준</strong>을 만족(satisfy the <strong>backdoor criterion</strong>)한다고 본다. - 백도어 기준을 만족하면 D가 Y에 미치는 인과적 효과를 고립시킬 수 있다. - 변수 집합 X가 DAG에서 백도어 기준을 충족하려면, X가 D→Y 경로에서 모든 혼란 변수 경로를 차단해야 한다.</p>
<p><img src="img/ci_02_4.png" width="350"></p>
<p>위 DAG에서 <span class="math inline">\(D\)</span>는 처리 변수(예: 대학 교육), <span class="math inline">\(Y\)</span>는 결과 변수(예: 소득), <span class="math inline">\(PE\)</span>는 부모의 교육 수준, <span class="math inline">\(I\)</span>는 가족 소득, <span class="math inline">\(B\)</span>는 유전, 가족 환경, 정신적 능력과 같은 관측되지 않은 배경 요인을 나타낸다.</p>
<p>백도어 기준(backdoor criterion)을 충족하기 위해 최소한으로 필요한 조건화는 <span class="math inline">\(I\)</span>를 통제하는 것이다. - <span class="math inline">\(I\)</span>는 모든 백도어 경로에서 <strong>비충돌자</strong>(noncollider)로 나타나므로, 이를 조건화하면 경로가 닫히게 된다. - 가장 간단한 접근법은 아래 회귀식을 사용하는 것이다. <span class="math display">\[Y_i = \alpha + \sigma D_i + \beta I_i + \epsilon_i\]</span></p>
<p><span class="math inline">\(I\)</span>를 조건화함으로써 추정된 <span class="math inline">\(\sigma\)</span>는 인과적 해석(causal interpretation)을 가질 수 있다.</p>
<p>하지만 연구자는 이 DAG에 대해 의문을 가질 수 있다. 예를 들어, 경제 이론이나 기존 문헌을 검토하면서, B와 Y 간의 관계가 실제로 없다는 점에 대해 회의적일 수 있다.</p>
<ul>
<li>이러한 의심은 B에서 Y로 이어지는 직접 경로가 있어야 한다는 믿음으로 이어질 수 있다.</li>
<li>이는 B와 Y 간의 관계가 D나 PE를 통해서만 매개되지 않을 수 있다는 가능성을 제기한다.</li>
</ul>
<p>콜라이더에 조건화했는지(데이터 세트에는 “콜라이더”나 “혼란 변수(confounder)”라는 표시는 없다) 확인하려면 DAG와 모델이 필요하며, 이는 변수의 데이터 생성 과정을 이해하고 논리와 이론을 통해 경로를 배제하는 작업을 요구한다. 모든 실증 연구는 이론에 기반해야 하며, 가정 없이는 처리 효과를 식별할 수 없다.</p>
</section>
<section id="콜라이더-편향" class="level2">
<h2 class="anchored" data-anchor-id="콜라이더-편향">콜라이더 편향</h2>
<div id="8f2b2b42-7b6b-4c36-a477-ffd695da5c4a" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> itertools <span class="im">import</span> combinations </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotnine <span class="im">as</span> p</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> stargazer.stargazer <span class="im">import</span> Stargazer</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># read data</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ssl</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>ssl._create_default_https_context <span class="op">=</span> ssl._create_unverified_context</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_data(<span class="bu">file</span>): </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.read_stata(<span class="st">"https://github.com/scunning1975/mixtape/raw/master/"</span> <span class="op">+</span> <span class="bu">file</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>tb <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'female'</span>: np.random.binomial(<span class="dv">1</span>, <span class="fl">.5</span>, size<span class="op">=</span><span class="dv">10000</span>),</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ability'</span>: np.random.normal(size<span class="op">=</span><span class="dv">10000</span>)})</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>tb[<span class="st">'discrimination'</span>] <span class="op">=</span> tb.female.copy()</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>tb[<span class="st">'occupation'</span>] <span class="op">=</span> <span class="dv">1</span> <span class="op">+</span> <span class="dv">2</span><span class="op">*</span>tb[<span class="st">'ability'</span>] <span class="op">+</span> <span class="dv">0</span><span class="op">*</span>tb[<span class="st">'female'</span>] <span class="op">-</span> <span class="dv">2</span><span class="op">*</span>tb[<span class="st">'discrimination'</span>] <span class="op">+</span> np.random.normal(size<span class="op">=</span><span class="dv">10000</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>tb[<span class="st">'wage'</span>] <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> <span class="dv">1</span><span class="op">*</span>tb[<span class="st">'discrimination'</span>] <span class="op">+</span> <span class="dv">1</span><span class="op">*</span>tb[<span class="st">'occupation'</span>] <span class="op">+</span> <span class="dv">2</span><span class="op">*</span>tb[<span class="st">'ability'</span>] <span class="op">+</span> np.random.normal(size<span class="op">=</span><span class="dv">10000</span>) </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>lm_1 <span class="op">=</span> sm.OLS.from_formula(<span class="st">'wage ~ female'</span>, data<span class="op">=</span>tb).fit()</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>lm_2 <span class="op">=</span> sm.OLS.from_formula(<span class="st">'wage ~ female + occupation'</span>, data<span class="op">=</span>tb).fit()</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>lm_3 <span class="op">=</span> sm.OLS.from_formula(<span class="st">'wage ~ female + occupation + ability'</span>, data<span class="op">=</span>tb).fit()</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>st <span class="op">=</span> Stargazer((lm_1,lm_2,lm_3))</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>st.custom_columns([<span class="st">"Biased Unconditional"</span>, <span class="st">"Biased"</span>, <span class="st">"Unbiased Conditional"</span>], [<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>])</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>st</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<table style="text-align:center"><tbody><tr><td colspan="4" style="border-bottom: 1px solid black"></td></tr>
<tr><td style="text-align:left"></td><td colspan="3"><em>Dependent variable: wage</em></td></tr><tr><td style="text-align:left"></td></tr><tr><td></td><td colspan="1">Biased Unconditional</td><td colspan="1">Biased</td><td colspan="1">Unbiased Conditional</td></tr><tr><td style="text-align:left"></td><td>(1)</td><td>(2)</td><td>(3)</td></tr>
<tr><td colspan="4" style="border-bottom: 1px solid black"></td></tr>

<tr><td style="text-align:left">Intercept</td><td>1.955<sup>***</sup></td><td>0.206<sup>***</sup></td><td>0.998<sup>***</sup></td></tr>
<tr><td style="text-align:left"></td><td>(0.059)</td><td>(0.020)</td><td>(0.017)</td></tr>
<tr><td style="text-align:left">ability</td><td></td><td></td><td>2.005<sup>***</sup></td></tr>
<tr><td style="text-align:left"></td><td></td><td></td><td>(0.022)</td></tr>
<tr><td style="text-align:left">female</td><td>-2.838<sup>***</sup></td><td>0.590<sup>***</sup></td><td>-0.994<sup>***</sup></td></tr>
<tr><td style="text-align:left"></td><td>(0.085)</td><td>(0.029)</td><td>(0.028)</td></tr>
<tr><td style="text-align:left">occupation</td><td></td><td>1.799<sup>***</sup></td><td>1.001<sup>***</sup></td></tr>
<tr><td style="text-align:left"></td><td></td><td>(0.006)</td><td>(0.010)</td></tr>

<tr><td colspan="4" style="border-bottom: 1px solid black"></td></tr>
<tr><td style="text-align: left">Observations</td><td>10000</td><td>10000</td><td>10000</td></tr><tr><td style="text-align: left">R<sup>2</sup></td><td>0.101</td><td>0.910</td><td>0.950</td></tr><tr><td style="text-align: left">Adjusted R<sup>2</sup></td><td>0.101</td><td>0.910</td><td>0.950</td></tr><tr><td style="text-align: left">Residual Std. Error</td><td>4.229 (df=9998)</td><td>1.335 (df=9997)</td><td>0.995 (df=9996)</td></tr><tr><td style="text-align: left">F Statistic</td><td>1126.152<sup>***</sup> (df=1; 9998)</td><td>50841.168<sup>***</sup> (df=2; 9997)</td><td>63703.869<sup>***</sup> (df=3; 9996)</td></tr>
<tr><td colspan="4" style="border-bottom: 1px solid black"></td></tr><tr><td style="text-align: left">Note:</td><td colspan="3" style="text-align: right"><sup>*</sup>p&lt;0.1; <sup>**</sup>p&lt;0.05; <sup>***</sup>p&lt;0.01</td></tr></tbody></table>
</div>
</div>
<div id="fdc92238-c37e-4913-b239-9b0dd47ec6a2" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>start_is_born <span class="op">=</span> pd.DataFrame({</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'beauty'</span>: np.random.normal(size<span class="op">=</span><span class="dv">2500</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'talent'</span>: np.random.normal(size<span class="op">=</span><span class="dv">2500</span>)})</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>start_is_born[<span class="st">'score'</span>] <span class="op">=</span> start_is_born[<span class="st">'beauty'</span>] <span class="op">+</span> start_is_born[<span class="st">'talent'</span>]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>start_is_born[<span class="st">'c85'</span>] <span class="op">=</span> np.percentile(start_is_born[<span class="st">'score'</span>], q<span class="op">=</span><span class="dv">85</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>start_is_born[<span class="st">'star'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>start_is_born.loc[start_is_born[<span class="st">'score'</span>]<span class="op">&gt;</span>start_is_born[<span class="st">'c85'</span>], <span class="st">'star'</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>start_is_born.head()</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>lm <span class="op">=</span> sm.OLS.from_formula(<span class="st">'beauty ~ talent'</span>, data<span class="op">=</span>start_is_born).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a9dcfe8b-f1a6-4697-9703-25e4aa6faf6f" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>p.ggplot(start_is_born, p.aes(x<span class="op">=</span><span class="st">'talent'</span>, y<span class="op">=</span><span class="st">'beauty'</span>)) <span class="op">+</span>    p.geom_point(size <span class="op">=</span> <span class="fl">0.5</span>) <span class="op">+</span>    p.xlim(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>) <span class="op">+</span>    p.ylim(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ci_02_dag_files/figure-html/cell-4-output-1.png" width="640" height="480" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="e6ac8927-ef96-4800-8c24-3256e39068cc" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p.ggplot(start_is_born[start_is_born.star<span class="op">==</span><span class="dv">1</span>], p.aes(x<span class="op">=</span><span class="st">'talent'</span>, y<span class="op">=</span><span class="st">'beauty'</span>)) <span class="op">+</span>    p.geom_point(size <span class="op">=</span> <span class="fl">0.5</span>) <span class="op">+</span>    p.xlim(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>) <span class="op">+</span>    p.ylim(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ci_02_dag_files/figure-html/cell-5-output-1.png" width="640" height="480" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="df6f80a3-e176-49ab-b0a1-25c71e8cece9" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>p.ggplot(start_is_born[start_is_born.star<span class="op">==</span><span class="dv">0</span>], p.aes(x<span class="op">=</span><span class="st">'talent'</span>, y<span class="op">=</span><span class="st">'beauty'</span>)) <span class="op">+</span>    p.geom_point(size <span class="op">=</span> <span class="fl">0.5</span>) <span class="op">+</span>    p.xlim(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>) <span class="op">+</span>    p.ylim(<span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ci_02_dag_files/figure-html/cell-6-output-1.png" width="640" height="480" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/jo-cho\.github\.io\/FinBlog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="jo-cho/FinBlog" data-repo-id="R_kgDOJQ80aw" data-category="General" data-category-id="DIC_kwDOJQ80a84CVb8i" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../../posts/statistics/causal_inference/ci_01_intro.html" class="pagination-link" aria-label="1. 인과추론 서론">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">1. 인과추론 서론</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../posts/fin_data/Fractional_difference.html" class="pagination-link" aria-label="분수 차분">
        <span class="nav-page-text">분수 차분</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/jo-cho/FinBlog/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer><script src="../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>